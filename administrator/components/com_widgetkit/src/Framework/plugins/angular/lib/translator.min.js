!function(a,e){a.module("Application").factory("Translator",function(){return e.Translator}).config(["$provide",function(a){a.decorator("Translator",["$delegate","Application",function(a,e){a.locale=e.config.locale;for(var s in e.config.locales)for(var r in e.config.locales[s])a.add(r,e.config.locales[s][r]);return a}])}]).filter("trans",["Translator",function(a){return function(e,s){return a.trans(e,s)}}]).filter("transChoice",["Translator",function(a){return function(e,s,r){return a.transChoice(e,s,r)}}])}(angular,window);var Translator=function(a,e){function s(a,e){var s,r=Translator.placeHolderPrefix,n=Translator.placeHolderSuffix;for(s in e){var c=new RegExp(r+s+n,"g");c.test(a)&&(a=a.replace(c,e[s]))}return a}function r(a,s,r,c,t){if(r=r||c||t,e==l[r]){if(e==l[t])return a;r=t}if(e===s||null===s)for(c=0;c<i.length;c++)if(n(r,i[c],a)||n(t,i[c],a)){s=i[c];break}if(n(r,s,a))return l[r][s][a];for(var o,f;2<r.length&&(c=r.length,o=r.split(/[\s_]+/),f=o[o.length-1],f=f.length,1!==o.length);)if(r=r.substring(0,c-(f+1)),n(r,s,a))return l[r][s][a];return n(t,s,a)?l[t][s][a]:a}function n(a,s,r){return e!=l[a]&&e!=l[a][s]&&e!=l[a][s][r]}function c(a){return"-Inf"===a?Number.NEGATIVE_INFINITY:"+Inf"===a||"Inf"===a?Number.POSITIVE_INFINITY:parseInt(a,10)}function t(a,e){var s=e;switch("pt_BR"===s&&(s="xbr"),3<s.length&&(s=s.split("_")[0]),s){case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"az":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return 1==a?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0===a||1==a?0:1;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return 1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2;case"cs":case"sk":return 1==a?0:2<=a&&4>=a?1:2;case"ga":return 1==a?0:2==a?1:2;case"lt":return 1==a%10&&11!=a%100?0:2<=a%10&&(10>a%100||20<=a%100)?1:2;case"sl":return 1==a%100?0:2==a%100?1:3==a%100||4==a%100?2:3;case"mk":return 1==a%10?0:1;case"mt":return 1==a?0:0===a||1<a%100&&11>a%100?1:10<a%100&&20>a%100?2:3;case"lv":return 0===a?0:1==a%10&&11!=a%100?1:2;case"pl":return 1==a?0:2<=a%10&&4>=a%10&&(12>a%100||14<a%100)?1:2;case"cy":return 1==a?0:2==a?1:8==a||11==a?2:3;case"ro":return 1==a?0:0===a||0<a%100&&20>a%100?1:2;case"ar":return 0===a?0:1==a?1:2==a?2:3<=a&&10>=a?3:11<=a&&99>=a?4:5;default:return 0}}var l={},i=[],o=new RegExp(/^\w+\: +(.+)$/),f=new RegExp(/^\s*((\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]]))\s?(.+?)$/),u=new RegExp(/^\s*(\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]])/);return{locale:a.documentElement.lang.replace("-","_"),fallback:"en",placeHolderPrefix:"%",placeHolderSuffix:"%",defaultDomain:"messages",pluralSeparator:"|",add:function(a,e,s,r){r=r||this.locale||this.fallback,s=s||this.defaultDomain,l[r]||(l[r]={}),l[r][s]||(l[r][s]={}),l[r][s][a]=e;a:{for(a=0;a<i.length;a++)if(s===i[a]){a=!0;break a}a=!1}return!1===a&&i.push(s),this},trans:function(a,e,n,c){return a=r(a,n,c,this.locale,this.fallback),s(a,e||{})},transChoice:function(a,n,l,i,h){var p=r(a,i,h,this.locale,this.fallback);if(n=parseInt(n,10),e!=p&&!isNaN(n))a:{h=h||this.locale||this.fallback;var d,g;a=[],i=[];var m=p.split(Translator.pluralSeparator),p=[];for(d=0;d<m.length;d++)p=m[d],f.test(p)?(p=p.match(f),a[p[0]]=p[p.length-1]):o.test(p)?(p=p.match(o),i.push(p[1])):i.push(p);for(g in a)if(u.test(g))if(p=g.match(u),p[1]){var b,p=p[2].split(",");for(b in p)if(n==p[b]){p=a[g];break a}}else if(d=c(p[4]),m=c(p[5]),("["===p[3]?n>=d:n>d)&&("]"===p[6]?n<=m:n<m)){p=a[g];break a}p=i[t(n,h)]||i[0]||e}return s(p,l||{})},fromJSON:function(a){if("string"==typeof a&&(a=JSON.parse(a)),a.locale&&(this.locale=a.locale),a.fallback&&(this.fallback=a.fallback),a.defaultDomain&&(this.defaultDomain=a.defaultDomain),a.translations)for(var e in a.translations)for(var s in a.translations[e])for(var r in a.translations[e][s])this.add(r,a.translations[e][s][r],s,e);return this},reset:function(){l={},i=[],this.locale=a.documentElement.lang.replace("-","_")}}}(document,void 0);